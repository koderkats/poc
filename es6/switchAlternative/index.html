<html><script>

function which(key, obj, def) {
  function isFunction(x) { return (typeof x === 'function'); }
  function defined(x) { return (typeof x !== 'undefined'); }
  const value = obj[key];
  if (typeof value !== 'undefined') return isFunction(value) ? value() : value;
  if (typeof def !== 'undefined') return isFunction(def) ? def() : def;
  return null;
}

// Non returning statement without default value
which(2, {
  1: () => console.log('one'),
  2: () => console.log('two'),
  3: () => console.log('three'),
});
// OUTPUT:
// two


const s = 'd'

const returnValue = which(s, {
  'a': 'aa',
  'b': 'bb',
  'c': {name:'pat', age:29},
  'd': () => {
    console.log('hello');
    return 'world';
  },
}, 'default');
// OUTPUT:
// hello

console.log(returnValue);
// OUTPUT:
// world

</script></html>